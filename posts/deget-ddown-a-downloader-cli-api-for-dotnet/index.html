<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		 
			
  
    <meta name="twitter:card" content="summary"/>
    
      <meta name="twitter:image" content="/images/avatar.png" />
    
  
  
  <meta name="twitter:title" content="deget/ddown; a downloader cli/api for dotnet"/>
  <meta name="twitter:description" content="TL;DR"/>
  
    <meta name="twitter:site" content="@almozdmr"/>
  
  
  
  
    <meta name="twitter:creator" content="@Alim Özdemir"/>
  



		
		<meta name="author" content="Alim Özdemir">
		<meta name="keywords" content="dotnet,tool,downloader,wget">
		<meta name="description" content="Site Description">
		<meta name="generator" content="Hugo 0.72.0" />
		<title>deget/ddown; a downloader cli/api for dotnet &middot; Alim Özdemir</title>
		<link rel="shortcut icon" href="/images/favicon.ico">
		<link rel="stylesheet" href="/css/style.css">
		<link rel="stylesheet" href="/css/highlight.css">

		
		<link rel="stylesheet" href="/css/font-awesome.min.css">
		

		
		<link href="/index.xml" rel="alternate" type="application/rss+xml" title="Alim Özdemir" />
		

		
	</head>

    <body>
       <nav class="main-nav">
	
	
		<a href='/'> <span class="arrow">←</span> Home</a>
	
	<a href='/posts'>Archive</a>
	<a href='/projects'>Projects</a>
	<a href='/tags'>Tags</a>
	<a href='/about'>About</a>

	

	
	<a class="cta" href="/index.xml">Subscribe</a>
	
</nav>


        <section id="wrapper" class="post">
            <article>
                <header>
                    <h1>
                        deget/ddown; a downloader cli/api for dotnet
                    </h1>
                    <h2 class="headline">
                    Jan 14, 2019 09:10
                    · 449 words
                    · 3 minute read
                      <span class="tags">
                      
                      
                          
                              <a href="/tags/dotnet">dotnet</a>
                          
                              <a href="/tags/tool">tool</a>
                          
                      
                      
                      </span>
                    </h2>
                </header>
                
                <section id="post-body">
                    <p><img src="/img/1__uCwhJpWZUQVkkXTvVr__m2A.png" alt=""></p>
<p><strong>Hello</strong> everyone, I would like to introduce my first global tool for dotnet core ecosystem. This is one of my side projects that I have completed in my free time. It is a downloader just like ‘wget’ command in unix. It has partitioning, pause and resume features. Also, it is not only a CLI tool, but has a nuget package that you can include to your projects for downloading files.</p>
<p>Install command</p>
<pre><code>dotnet tool install -g deget  
dotnet add package DDown

Example CLI command

deget https://github.com/OpenShot/openshot-qt/releases/download/v2.4.1/OpenShot-v2.4.1-x86\_64.dmg
</code></pre><p>I have started this project almost a year ago; My curiosity started with “can I do something like ‘free download manager’ in command line just like ‘wget’ command in unix”. I started digging into HTTP protocol documentation. And, I found “Range” option which I didn’t know before. With this option I can divide the file and download it with chucks.</p>
<p>So, the main idea behind the tool is to request the file information with only header option. After that, calculate the partitions and start download as a stream. I kept the partitions and the history files in user’s LocalApplicationData. Maybe, it can change in future.</p>
<p>Let’s see results.</p>
<p>Here is an example run command with four partitions.</p>
<pre><code>deget [https://github.com/OpenShot/openshot-qt/releases/download/v2.4.1/OpenShot-v2.4.1-x86\_64.dmg](https://github.com/OpenShot/openshot-qt/releases/download/v2.4.1/OpenShot-v2.4.1-x86_64.dmg) -p 4
</code></pre><p><img src="/img/1__Ehwm4wP05VIXHYL9cOReig.png" alt="deget example output">
deget example output</p>
<p>I think, one of the most useful thing is that CLI downloads the file into current folder in which the command runs. But, if you want to change the download location you can just use -o flag. Also, if you want to download the file into user’s downloads folder you can just use -d flag. For more options,</p>
<pre><code>\-p, — partition (Default: 0) Set partition count. Default zero means system’s processor count

\-o, — output Default value is current folder that command runs.

\-r, — override (Default: false) Override the lastest download file with same name. Otherwise it will download the file with numbers (e.g. File (1).exe, File (2).exe).

\-b, — buffersize (Default: 8192) Set buffer size.

\-t, — timeout (Default: 10000) Set timeout parameter in miliseconds.

\-d, — downloadFolder (Default: false) The file download location set to User’s download folder.

— help Display this help screen.

— version Display version information.

value pos. 0 Required. Link to download
</code></pre><p>DDown, API is ready to go, you can easily start with following lines for adding file download feature to your project. And, you can customize your options with DDown.Options class. For more information you can take a look at <a href="https://github.com/lyzerk/DDown">github</a>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#66d9ef">using</span> DDown;

<span style="color:#66d9ef">var</span> downloader = <span style="color:#66d9ef">new</span> Downloader(link);
<span style="color:#66d9ef">var</span> status = <span style="color:#66d9ef">await</span> downloader.PrepareAsync(); <span style="color:#75715e">// status contain information about file. (e.g. Length, IsRangeSupported, PartitionCount)
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">await</span> downloader.StartAsync(); 

<span style="color:#66d9ef">if</span> (!downloader.Canceled)
{
    <span style="color:#75715e">// this method will marge partitions
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">await</span> downloader.MergeAsync();
}
</code></pre></div><p>Thank you for reading.</p>
                </section>
            </article>

            

            

            

            <footer id="footer">
    
        <div id="social">

	
	
    <a class="symbol" href="https://www.github.com/lyzerk">
        <i class="fa fa-github-square"></i>
    </a>
    
    <a class="symbol" href="https://www.linkedin.com/in/almozdmr/">
        <i class="fa fa-linkedin-square"></i>
    </a>
    
    <a class="symbol" href="https://medium.com/@alm.ozdmr">
        <i class="fa fa-medium"></i>
    </a>
    
    <a class="symbol" href="https://www.twitter.com/almozdmr">
        <i class="fa fa-twitter-square"></i>
    </a>
    


</div>

    
    <p class="small">
    
       © Copyright 2020 <i class="fa fa-heart" aria-hidden="true"></i> Alim Özdemir
    
    </p>
</footer>

        </section>

        <script src="/js/jquery-3.3.1.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>




  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'your_google_analytics_id', 'auto');
	
	ga('send', 'pageview');
}
</script>





    </body>
</html>
